<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Remotion Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Remotion Blog Atom Feed"><title data-react-helmet="true">Server-Side Rendering | Remotion</title><meta data-react-helmet="true" property="og:image" content="https://remotion.dev/img/social-preview.png"><meta data-react-helmet="true" name="twitter:image" content="https://remotion.dev/img/social-preview.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for Remotion"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Server-Side Rendering | Remotion"><meta data-react-helmet="true" name="description" content="Remotion&#x27;s rendering engine is built upon Node.JS, which makes it exceptionally easy to render a video in the cloud."><meta data-react-helmet="true" property="og:description" content="Remotion&#x27;s rendering engine is built upon Node.JS, which makes it exceptionally easy to render a video in the cloud."><meta data-react-helmet="true" property="og:url" content="https://remotion.dev/docs/ssr"><link data-react-helmet="true" rel="shortcut icon" href="/img/logo-small.png"><link data-react-helmet="true" rel="canonical" href="https://remotion.dev/docs/ssr"><link rel="stylesheet" href="/styles.15ea5181.css">
<link rel="preload" href="/styles.1533cbcf.js" as="script">
<link rel="preload" href="/runtime~main.8289a50c.js" as="script">
<link rel="preload" href="/main.ce2b35dc.js" as="script">
<link rel="preload" href="/1.feb5168d.js" as="script">
<link rel="preload" href="/2.e3b9f144.js" as="script">
<link rel="preload" href="/56.fc577d8d.js" as="script">
<link rel="preload" href="/57.c9a7482d.js" as="script">
<link rel="preload" href="/935f2afb.8bfc0cd3.js" as="script">
<link rel="preload" href="/17896441.af3f7074.js" as="script">
<link rel="preload" href="/bcc66c02.349349e9.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo-small.png" alt="Remotion logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo-small.png" alt="Remotion logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Remotion</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/JonnyBurger/remotion" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" data-splitbee-event="External Link" data-splitbee-event-target="Github">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo-small.png" alt="Remotion logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo-small.png" alt="Remotion logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Remotion</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/JonnyBurger/remotion" target="_blank" rel="noopener noreferrer" class="menu__link" data-splitbee-event="External Link" data-splitbee-event-target="Github">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/the-fundamentals">The fundamentals</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/animating-properties">Animating properties</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reusability">Reuse components</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/render">Render your video</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Techniques</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data-fetching">Data fetching</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/parametrized-rendering">Parametrized rendering</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/ssr">Server-Side Rendering</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/assets">Importing assets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/fonts">Using Fonts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/webpack">Custom Webpack config</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/use-img-and-iframe">Use &lt;Img&gt; and &lt;IFrame&gt; tags</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/javascript">Plain JavaScript</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/using-randomness">Using randomness</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/encoding">Encoding Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/transparent-videos">Transparent videos</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cli">CLI options</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/config">Configuration file</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/continue-render">continueRender()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/delay-render">delayRender()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/interpolate">interpolate()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/random">random()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/register-root">registerRoot()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/spring">spring()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/use-current-frame">useCurrentFrame()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/use-video-config">useVideoConfig()</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/audio">&lt;Audio /&gt; ðŸš§</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/composition">&lt;Composition /&gt;</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/sequence">&lt;Sequence /&gt;</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/video">&lt;Video /&gt;</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/absolute-fill">&lt;AbsoluteFill /&gt;</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/img">&lt;Img /&gt;</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/iframe">&lt;IFrame /&gt;</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easing">Easing</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/license">License &amp; Pricing</a></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Server-Side Rendering</h1></header><div class="markdown"><p>Remotion&#x27;s rendering engine is built upon Node.JS, which makes it exceptionally easy to render a video in the cloud.</p><p>Since Remotion is built with tech (<em>Node.JS, FFMPEG, Puppeteer</em>) that works well cross-platform, you can without much hassle run it on a Linux-based system or even dockerize your video.</p><p>On this page, we demonstrate the server-rendering capabilities or Remotion using examples <a href="/docs#installation">built into the template</a>!</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="render-a-video-programmatically"></a>Render a video programmatically<a class="hash-link" href="#render-a-video-programmatically" title="Direct link to heading">#</a></h2><p>The NPM package <code>@remotion/renderer</code> provides you with an API for rendering the videos programmatically. You can make a video in three steps: creating a Webpack bundle, rendering the frames, and stitching them together to an MP4. This gives you more independence and allows you to for example skip the stitching process, if you just want a PNG sequence.</p><p>Follow this commented example to see how to render a video:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-tsx codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> fs </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;fs&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">evaluateRootForCompositions</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;remotion&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">bundle</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@remotion/bundler&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    getCompositions</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    renderFrames</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    stitchFramesToVideo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@remotion/renderer&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">start</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// The composition you want to render</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> compositionId </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;HelloWorld&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Create a webpack bundle of the entry file.</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> bundled </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">bundle</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">require</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;./src/index&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Extract all the compositions you have defined in your project</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// from the webpack bundle.</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> comps </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getCompositions</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">bundled</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Select the composition you want to render.</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> video </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> comps</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">find</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> c</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">id </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> compositionId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// We create a temporary directory for storing the frames</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> framesDir </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> fs</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">promises</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">mkdtemp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">join</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">tmpdir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;remotion-&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// We create PNGs for all frames</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">renderFrames</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> video</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Path of the webpack bundle you have created</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    webpackBundle</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> bundled</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Get&#x27;s called after bundling is finished and the</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// actual rendering starts.</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function-variable function" style="color:#d73a49">onStart</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Rendering frames...&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function-variable function" style="color:#d73a49">onFrameUpdate</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">f</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// Log a message whenever 10 frames have rendered.</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">f </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">Rendered frame </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">f</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// How many CPU threads to use. `null` will use a sane default (half of the available threads)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// See &#x27;CLI options&#x27; section for concurrency options.</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    parallelism</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    outputDir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> framesDir</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// React props passed to the root component of the sequence. Will be merged with the `defaultProps` of a video.</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    userProps</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      titleText</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Hello World&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    compositionId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Can be either &#x27;jpeg&#x27; or &#x27;png&#x27;. JPEG is faster, but has no transparency.</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    imageFormat</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;jpeg&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Add this step if you want to make an MP4 out of the rendered frames.</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">stitchFramesToVideo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Input directory of the frames</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> tmpDir</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Overwrite existing video</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    force</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Possible overwrite of video metadata,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// we suggest to just fill in the data from the</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// video variable</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    fps</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> video</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fps</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    height</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> video</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">height</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    width</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> video</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">width</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Must match the value above for the image format</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    imageFormat</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;jpeg&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Pass in the desired output path of the video. Et voilÃ !</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    outputLocation</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">join</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tmpDir</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;out.mp4&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// FFMPEG pixel format</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    pixelFormat</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;yuv420p&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Hook into the FFMPEG progress</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function-variable function" style="color:#d73a49">onProgress</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">frame</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">start</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><a href="/docs/parametrized-rendering#passing-props-in-github-actions">See also: Passing props in GitHub Actions</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="render-using-a-http-server"></a>Render using a HTTP server<a class="hash-link" href="#render-using-a-http-server" title="Direct link to heading">#</a></h2><p>In the <a href="/docs#installation">template</a>, we added a minimal example of an HTTP server that dynamically returns a video whenever you call the URL.</p><p>The server is located under <code>server.tsx</code>, and you can run it using <code>npm run server</code>. Call the default URL with parameters, and it will return a video after some time! Try it out in the browser or using cURL:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;http://localhost:8000?titleText=Hello,+World!&amp;titleColor=red&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> output.mp4</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Note that we only added a minimal example. For production, you should consider adding a queueing system and rate limiting.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="render-using-a-http-server-dockerized"></a>Render using a HTTP server (Dockerized)<a class="hash-link" href="#render-using-a-http-server-dockerized" title="Direct link to heading">#</a></h2><p>We added a Dockerfile that includes FFMPEG and added it to the template. That means you can also run the server described in the section above using Docker.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">docker build -t my-video </span><span class="token builtin class-name">.</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">docker run -p </span><span class="token number" style="color:#36acaa">8000</span><span class="token plain">:8000 --privileged my-video</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="render-using-github-actions"></a>Render using GitHub Actions<a class="hash-link" href="#render-using-github-actions" title="Direct link to heading">#</a></h2><p>The template includes a GitHub Actions workflow file
under <code>.github/workflows/render-video.yml</code>. All you have to do is to adjust the props that your root component accepts in the workflow file and you can render a video right on GitHub.</p><ol><li>Commit the template to a GitHub repository</li><li>On GitHub, click the &#x27;Actions&#x27; tab.</li><li>Select the &#x27;Render video&#x27; workflow on the left.</li><li>A &#x27;Run workflow&#x27; button should appear. Click it</li><li>Fill in the props of the root component and click &#x27;Run workflow&#x27;.</li><li>After the rendering is finished, you can download the video under &#x27;Artifacts&#x27;.</li></ol><p>Note that running the workflow may incur costs. However, the workflow will only run if you actively trigger it.</p><p><a href="/docs/parametrized-rendering#passing-props-in-github-actions">See also: Passing props in GitHub Actions</a></p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/JonnyBurger/remotion/edit/main/packages/docs/docs/ssr.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/parametrized-rendering"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Parametrized rendering</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/assets"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Importing assets Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#render-a-video-programmatically" class="table-of-contents__link">Render a video programmatically</a></li><li><a href="#render-using-a-http-server" class="table-of-contents__link">Render using a HTTP server</a></li><li><a href="#render-using-a-http-server-dockerized" class="table-of-contents__link">Render using a HTTP server (Dockerized)</a></li><li><a href="#render-using-github-actions" class="table-of-contents__link">Render using GitHub Actions</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Getting started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/cli">API reference</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/JNYBGR" target="_blank" rel="noopener noreferrer" class="footer__link-item" data-splitbee-event="External Link" data-splitbee-event-target="Twitter">Twitter</a></li><li class="footer__item"><a href="https://github.com/JonnyBurger/remotion/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item" data-splitbee-event="External Link" data-splitbee-event-target="Github">GitHub Issues</a></li><li class="footer__item"><a href="https://discord.gg/6VzzNDwUwV" target="_blank" rel="noopener noreferrer" class="footer__link-item" data-splitbee-event="External Link" data-splitbee-event-target="Discord">Discord</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/JonnyBurger/remotion" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Jonny Burger. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.1533cbcf.js"></script>
<script src="/runtime~main.8289a50c.js"></script>
<script src="/main.ce2b35dc.js"></script>
<script src="/1.feb5168d.js"></script>
<script src="/2.e3b9f144.js"></script>
<script src="/56.fc577d8d.js"></script>
<script src="/57.c9a7482d.js"></script>
<script src="/935f2afb.8bfc0cd3.js"></script>
<script src="/17896441.af3f7074.js"></script>
<script src="/bcc66c02.349349e9.js"></script>
</body>
</html>