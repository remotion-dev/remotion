(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{151:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return i})),t.d(n,"metadata",(function(){return c})),t.d(n,"toc",(function(){return s})),t.d(n,"default",(function(){return p}));var r=t(3),o=t(7),a=(t(0),t(159)),i={id:"2-0-migration",sidebar_title:"v2.0 Migration",title:"v2.0 Breaking changes"},c={unversionedId:"2-0-migration",id:"2-0-migration",isDocsHomePage:!1,title:"v2.0 Breaking changes",description:"The following is a list of breaking changes in Remotion 2.0, as a reference for projects wanting to upgrade.",source:"@site/docs/2-0-migration.md",slug:"/2-0-migration",permalink:"/docs/2-0-migration",editUrl:"https://github.com/JonnyBurger/remotion/edit/main/packages/docs/docs/2-0-migration.md",version:"current",sidebar:"someSidebar",previous:{title:"Performance Tips",permalink:"/docs/performance"},next:{title:"License & Pricing",permalink:"/docs/license"}},s=[{value:"Sequences are 1 frame shorter",id:"sequences-are-1-frame-shorter",children:[]},{value:"Node.JS API changes",id:"nodejs-api-changes",children:[]},{value:"<code>--overwrite</code> is now default",id:"--overwrite-is-now-default",children:[]},{value:"Webpack now uses ESBuild instead of Babel",id:"webpack-now-uses-esbuild-instead-of-babel",children:[]},{value:"<code>react-dom</code> is a peer dependency",id:"react-dom-is-a-peer-dependency",children:[]},{value:"Upgrade to version 2.0",id:"upgrade-to-version-20",children:[]}],l={toc:s};function p(e){var n=e.components,t=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(r.a)({},l,t,{components:n,mdxType:"MDXLayout"}),Object(a.b)("p",null,"The following is a list of breaking changes in Remotion 2.0, as a reference for projects wanting to upgrade."),Object(a.b)("h2",{id:"sequences-are-1-frame-shorter"},"Sequences are 1 frame shorter"),Object(a.b)("p",null,"Because of a mistake in v1, sequences were 1 frame too long. The new behavior sees each composition be 1 frame shorter, but be consistent with the duration of compositions."),Object(a.b)("p",null,"The behavior of sequences is now the following, as explained by an example: If ",Object(a.b)("inlineCode",{parentName:"p"},"durationInFrames")," is 60 and ",Object(a.b)("inlineCode",{parentName:"p"},"from")," is 0, the sequence goes from frame 0 to 59 (60 frames in total), same as a composition with the same duration. In versions 1.x of Remotion, a sequence with the same attributes would go from frame 0 to 60 (61 frames in total)."),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Upgrade path"),": Check your sequence lengths and if necessary, increase the duration by 1 frame."),Object(a.b)("h2",{id:"nodejs-api-changes"},"Node.JS API changes"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"The ",Object(a.b)("inlineCode",{parentName:"li"},"userProps")," option of ",Object(a.b)("inlineCode",{parentName:"li"},"renderFrames")," has been renamed to ",Object(a.b)("inlineCode",{parentName:"li"},"inputProps"),"."),Object(a.b)("li",{parentName:"ul"},"You now need to pass ",Object(a.b)("inlineCode",{parentName:"li"},"assetsInfo")," to ",Object(a.b)("inlineCode",{parentName:"li"},"stitchFramesToVideo")," if you want your video to have sound. The ",Object(a.b)("inlineCode",{parentName:"li"},"assetsInfo")," object will be returned by ",Object(a.b)("inlineCode",{parentName:"li"},"renderFrames()"),".")),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Upgrade path"),": See the updated examples on the ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/ssr"}),"SSR page")," and update your program accordingly."),Object(a.b)("h2",{id:"--overwrite-is-now-default"},Object(a.b)("inlineCode",{parentName:"h2"},"--overwrite")," is now default"),Object(a.b)("p",null,"If an output already exists, Remotion will overwrite it without asking now, ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/config#setoverwriteoutput"}),"unless you disable this behavior"),"."),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Upgrade path"),": Do nothing or adjust the setting in the config file if you like."),Object(a.b)("h2",{id:"webpack-now-uses-esbuild-instead-of-babel"},"Webpack now uses ESBuild instead of Babel"),Object(a.b)("p",null,"Hopefully you will not notice a difference besides it being much faster. There is a way ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/legacy-babel"}),"to go back to Babel, you can read about it here")),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Upgrade path"),": Do nothing - should something break, use the legacy Babel plugin and file an issue."),Object(a.b)("h2",{id:"react-dom-is-a-peer-dependency"},Object(a.b)("inlineCode",{parentName:"h2"},"react-dom")," is a peer dependency"),Object(a.b)("p",null,Object(a.b)("inlineCode",{parentName:"p"},"react-dom")," is not anymore pre-installed, so you need to install manually if you upgrade."),Object(a.b)("h2",{id:"upgrade-to-version-20"},"Upgrade to version 2.0"),Object(a.b)("p",null,"Upgrade ",Object(a.b)("strong",{parentName:"p"},"all"),' dependencies containing "remotion" in your package.json to version ',Object(a.b)("inlineCode",{parentName:"p"},"^2.0.0"),"."),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-diff"}),'-"@remotion/bundler": "^1.5.4",\n-"@remotion/cli": "^1.5.4",\n-"@remotion/eslint-config": "^1.5.4",\n-"@remotion/renderer": "^1.5.4",\n+"@remotion/bundler": "^2.0.0",\n+"@remotion/cli": "^2.0.0",\n+"@remotion/eslint-config": "2.0.0",\n+"@remotion/renderer": "^2.0.0",\n"@types/express": "^4.17.9",\n"@types/react": "^17.0.0",\n"eslint": "^7.15.0",\n"express": "^4.17.1",\n"prettier": "^2.2.1",\n"prettier-plugin-organize-imports": "^1.1.1",\n"react": "^17.0.2",\n+"react-dom": "^17.0.2",\n-"remotion": "^1.5.4",\n+"remotion": "^2.0.0",\n')),Object(a.b)("p",null,"Run ",Object(a.b)("inlineCode",{parentName:"p"},"npm install")," afterwards."))}p.isMDXComponent=!0},159:function(e,n,t){"use strict";t.d(n,"a",(function(){return b})),t.d(n,"b",(function(){return m}));var r=t(0),o=t.n(r);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var l=o.a.createContext({}),p=function(e){var n=o.a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):c(c({},n),e)),t},b=function(e){var n=p(e.components);return o.a.createElement(l.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return o.a.createElement(o.a.Fragment,{},n)}},u=o.a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,a=e.originalType,i=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),b=p(t),u=r,m=b["".concat(i,".").concat(u)]||b[u]||d[u]||a;return t?o.a.createElement(m,c(c({ref:n},l),{},{components:t})):o.a.createElement(m,c({ref:n},l))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=t.length,i=new Array(a);i[0]=u;var c={};for(var s in n)hasOwnProperty.call(n,s)&&(c[s]=n[s]);c.originalType=e,c.mdxType="string"==typeof e?e:r,i[1]=c;for(var l=2;l<a;l++)i[l]=t[l];return o.a.createElement.apply(null,i)}return o.a.createElement.apply(null,t)}u.displayName="MDXCreateElement"}}]);